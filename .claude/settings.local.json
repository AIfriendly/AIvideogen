{
  "permissions": {
    "allow": [
      "Bash(git add:*)",
      "Bash(npm run build:*)",
      "Bash(git push:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nAdd Script Review Page & Project Settings (Duration Control)\n\nEnhancements:\n- Script Review Page: Display generated scripts with statistics before proceeding to voiceover\n- Project Settings: Configure target video duration (1-20 minutes) with automatic scene count calculation\n- Settings Button: Added to project header for easy access\n\nNew Features:\n- Script review page with scene-by-scene breakdown, word counts, and duration estimates\n- Project settings page with duration slider and quick presets\n- Real-time calculation of scenes, words, and duration based on target\n- Configuration persistence via config_json\n\nBug Fixes:\n- Fixed VoiceProfile type export issue (TypeScript build error)\n- Fixed type mismatch (VoiceProfile | undefined â†’ VoiceProfile | null)\n- Enhanced error handling in script generation client\n\nAPI Changes:\n- Extended PUT /api/projects/[id] to support config_json field\n- Added JSON validation for config_json\n\nTesting:\n- Added project.factory.ts for test data generation\n- Updated tests to use factory pattern\n- Added test IDs and priority markers\n\nFiles Created:\n- src/app/projects/[id]/script-review/page.tsx\n- src/app/projects/[id]/script-review/script-review-client.tsx\n- src/app/projects/[id]/settings/page.tsx\n- src/app/projects/[id]/settings/settings-client.tsx\n- src/app/projects/[id]/script-generation/script-generation-client.tsx\n- tests/factories/project.factory.ts\n\nFiles Modified:\n- src/app/api/projects/[id]/route.ts (config_json support)\n- src/app/projects/[id]/page.tsx (settings button)\n- src/lib/tts/voice-profiles.ts (VoiceProfile type export)\n- src/lib/llm/prompts/script-generation-prompt.ts (word count emphasis)\n- tests/api/generate-script.test.ts (test IDs, factory usage)\n- tests/unit/llm/* (test IDs, priority markers)\n\nðŸ¤– Generated with Claude Code\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit:*)",
      "Bash(sqlite3:*)",
      "Bash(taskkill:*)",
      "Bash(npx tsc:*)",
      "Bash(npm test:*)",
      "Bash(nul)",
      "Bash(npm run dev:*)",
      "Bash(timeout:*)",
      "Bash(node:*)",
      "Bash(curl:*)",
      "Bash(if exist \".next\\dev\\lock\" del \".next\\dev\\lock\")",
      "Bash(uv pip list:*)",
      "Bash(python:*)",
      "Bash(uv pip:*)",
      "Bash(\".venv/Scripts/python.exe\":*)",
      "Bash(\".venv/Scripts/python.exe\" -c \"from kokoro_onnx import Kokoro; print(''Available attributes:'',  dir(Kokoro)[:10])\")",
      "Bash(npm install:*)",
      "Bash(ollama list:*)",
      "Bash(\".venv\\Scripts\\python.exe\" scripts/kokoro-tts-service.py)",
      "Bash(touch:*)",
      "Bash(npx vitest:*)",
      "Bash(.venvScriptspython.exe scriptskokoro-tts-service.py)",
      "Bash(echo:*)",
      "Bash(.venv/Scripts/python.exe:*)",
      "Bash(findstr:*)",
      "Bash(npm run lint:*)",
      "Bash(\".venv\\Scripts\\python.exe\" \"scripts\\kokoro-tts-service.py\")",
      "Bash(ping:*)",
      "Bash(\".venv\\Scripts\\python.exe\" -c \"from kokoro_tts import convert_text_to_audio; print(''Import successful'')\")",
      "Bash(\".venv\\Scripts\\python.exe\" -c \"import signal; print(''SIGTERM'' in dir(signal))\")",
      "Bash(if exist \"d:\\BMAD video generator\\ai-video-generator\\.next\\dev\\lock\" del \"d:\\BMAD video generator\\ai-video-generator\\.next\\dev\\lock\")",
      "Bash(del \"d:\\BMAD video generator\\ai-video-generator\\.next\\dev\\lock\" 2)",
      "Bash(dir:*)",
      "Bash(.venvScriptspython.exe -c \"import kokoro_tts; print(kokoro_tts.__file__)\")",
      "Bash(\".venv\\Scripts\\python.exe\" -c \"import kokoro_tts; print(kokoro_tts.__file__)\")",
      "Bash(\".venv\\Scripts\\python.exe\" -c \"from kokoro_tts import convert_text_to_audio; import inspect; print(inspect.getsourcefile(convert_text_to_audio))\")",
      "Bash(cat:*)",
      "Bash(git checkout:*)",
      "Bash(if exist \".next\" rmdir /s /q \".next\")",
      "Bash(copy scriptskokoro-tts-service.py \"ai-video-generator\\scripts\\kokoro-tts-service.py\")",
      "WebFetch(domain:ai.google.dev)",
      "SlashCommand(/bmad:core:workflows:party-mode)",
      "Bash(mkdir:*)",
      "SlashCommand(/bmad:bmm:workflows:dev-story)",
      "Bash(git submodule:*)"
    ],
    "deny": [],
    "ask": []
  }
}
